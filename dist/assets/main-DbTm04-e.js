(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&e(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function v(){const i=document.createElement("header");return i.classList.add("header"),i.innerHTML=`
        <header class="cabecalho" id="header">
            <div class="container-header">
                
                <!-- Botão do menu mobile -->
                <div class="menu-mobile">
                    <a class="btn-menu" id="btn-menu" href="javascript:void(0)">    
                        <i class="bi bi-list"></i>
                    </a>
                </div>

                <!-- Logo -->
                <a href="/GDE-Gerenciamento-de-Defesa-de-Estagio/dashboard.html" class="header-logo">
                    <img src="./logo.png" alt="Logo GDE">
                </a>

                <!-- Botões -->
                <div class="botoes">
                    <div class="notificacao">
                        <a class="btn-notificacao" id="btn-notificacao">
                            <i class="bi bi-bell-fill"></i>
                            <span class="badge" id="contador">3</span>
                        </a>
                        <div class="menu-notificacao" id="menu-notificacao">
                            <h3>Notificações</h3>
                            <ul id="lista-notificacao"></ul>
                        </div>
                    </div> 
                </div>
            </div>

            <!-- Menu lateral (fora do fluxo principal) -->
            <nav class="menu-lateral" id="menu-lateral">
                <a href="javascript:void(0)" class="btn-fechar" id="btn-fechar">
                    <i class="bi bi-x-lg"></i>
                </a>
                <a href="/GDE-Gerenciamento-de-Defesa-de-Estagio/dashboard.html">
                    <i class="bi bi-house-door-fill"></i> Início
                </a>
                <a href="/GDE-Gerenciamento-de-Defesa-de-Estagio/perfil.html">
                    <i class="bi bi-person-fill"></i> Meu perfil
                </a>
                <a href="/GDE-Gerenciamento-de-Defesa-de-Estagio/defesas">
                    <i class="bi bi-calendar-fill"></i> Defesas
                </a>
                <a href="/GDE-Gerenciamento-de-Defesa-de-Estagio/login" class="logout-link">
                    <i class="bi bi-box-arrow-right"></i> Logout
                </a>
            </nav>
        </header>
    `,i}function D(){const i=document.createElement("footer");return i.classList.add("footer"),i.innerHTML=`
        <div class="container-footer">
            <div class="footer-section">
                <img src="./logo.png" alt="Logo GDE">
                <h2>GDE - Gerenciamento de Defesas de Estágio</h2>
                <p class="footer-description">
                    Plataforma para organização e acompanhamento de defesas de estágio
                    facilitando o processo para alunos, orientadores e coordenadores.
                </p>
            </div>
        </div>

        <div class="footer-bottom">
            &copy; 2025 GDE. Todos os direitos reservados.
        </div>
    `,i}const b=[{aluno:"Andrew Sander",orientador:"Prof.Diego",status:"Em andamento",data:"2025-12-05T00:00:00-03:00",horario:"14:00",banca:["Prof. Luiz","Prof.Francisco"],local:"Sala de Redes",tema:"Banco de dados"},{aluno:"Pedro",orientador:"Prof.Diego",status:"Em andamento",data:"2025-08-12T00:00:00-03:00",horario:"14:00",banca:["Prof. Luiz","Prof.Francisco"],local:"Sala de Redes",tema:"Banco de dados"},{aluno:"Andrew Sander",orientador:"Prof.Diego",status:"Concluído",data:"2025-12-05T00:00:00-03:00",horario:"14:00",banca:["Prof. Luiz","Prof.Francisco"],local:"Sala de Redes",tema:"Banco de dados"},{aluno:"Mariana Farias",orientador:"Prof.Valéria",status:"Concluído",data:"2025-05-15T00:00:00-03:00",horario:"14:00",banca:["Prof. Luiz","Prof.Francisco"],local:"Sala de Redes",tema:"PWeb"},{aluno:"Mariana Farias",orientador:"Prof.Valéria",status:"Em andamento",data:"2025-05-15T00:00:00-03:00",horario:"14:00",banca:["Prof. Luiz","Prof.Francisco"],local:"Sala de Redes",tema:"PWeb"},{aluno:"Mariana Farias",orientador:"Prof.Valéria",status:"Aguardando",data:"2025-05-15T00:00:00-03:00",horario:"14:00",banca:["Prof. Luiz","Prof.Francisco"],local:"Sala de Redes",tema:"PWeb"},{aluno:"Teste",orientador:"Teste prof",status:"Em andamento",data:"2025-12-20T00:00:00-03:00",horario:"16:31",banca:["Prof. Luiz","Prof.Francisco"],local:"Sala de Redes",tema:"Banco de dados"},{aluno:"Lucas Almeida",orientador:"Prof. Carla",status:"Em andamento",data:"2025-09-10T00:00:00-03:00",horario:"10:00",banca:["Prof. João","Prof. Marina"],local:"Laboratório 2",tema:"IA aplicada"},{aluno:"Bruna Costa",orientador:"Prof. Valéria",status:"Concluído",data:"2025-03-22T00:00:00-03:00",horario:"09:30",banca:["Prof. Luiz","Prof. Roberto"],local:"Sala de Reuniões",tema:"PWeb"},{aluno:"Gustavo Henrique",orientador:"Prof. Diego",status:"Em andamento",data:"2025-07-18T00:00:00-03:00",horario:"13:00",banca:["Prof. Francisco","Prof. Marina"],local:"Sala de Redes",tema:"Banco de dados"},{aluno:"Ana Luiza",orientador:"Prof. Carla",status:"Em andamento",data:"2025-06-03T00:00:00-03:00",horario:"15:00",banca:["Prof. João","Prof. Luiz"],local:"Auditório A",tema:"Sistemas Embarcados"},{aluno:"Ricardo Mendes",orientador:"Prof. Roberto",status:"Concluído",data:"2025-04-12T00:00:00-03:00",horario:"11:00",banca:["Prof. Marina","Prof. Carla"],local:"Sala 101",tema:"Engenharia de Software"},{aluno:"Beatriz Moraes",orientador:"Prof. João",status:"Em andamento",data:"2025-08-05T00:00:00-03:00",horario:"14:30",banca:["Prof. Luiz","Prof. Diego"],local:"Laboratório 3",tema:"Machine Learning"},{aluno:"Carlos Eduardo",orientador:"Prof. Valéria",status:"Concluído",data:"2025-01-20T00:00:00-03:00",horario:"16:00",banca:["Prof. Roberto","Prof. Francisco"],local:"Sala de Redes",tema:"PWeb"},{aluno:"Larissa Tavares",orientador:"Prof. Diego",status:"Em andamento",data:"2025-10-11T00:00:00-03:00",horario:"09:00",banca:["Prof. Luiz","Prof. Francisco"],local:"Sala 202",tema:"Banco de dados"},{aluno:"Henrique Silva",orientador:"Prof. Marina",status:"Em andamento",data:"2025-05-27T00:00:00-03:00",horario:"10:30",banca:["Prof. João","Prof. Roberto"],local:"Laboratório 1",tema:"Redes"},{aluno:"Juliana Rocha",orientador:"Prof. João",status:"Concluído",data:"2025-02-14T00:00:00-03:00",horario:"15:45",banca:["Prof. Marina","Prof. Carla"],local:"Auditório B",tema:"Computação Gráfica"},{aluno:"Thiago Ramos",orientador:"Prof. Roberto",status:"Em andamento",data:"2025-09-22T00:00:00-03:00",horario:"08:30",banca:["Prof. Carla","Prof. Luiz"],local:"Sala 105",tema:"Engenharia de Software"},{aluno:"Alice Moreira",orientador:"Prof. Marina",status:"Concluído",data:"2025-03-11T00:00:00-03:00",horario:"14:10",banca:["Prof. João","Prof. Francisco"],local:"Laboratório 4",tema:"Redes"},{aluno:"Vinícius Andrade",orientador:"Prof. Diego",status:"Em andamento",data:"2025-11-09T00:00:00-03:00",horario:"10:15",banca:["Prof. Luiz","Prof. Marina"],local:"Sala de Redes",tema:"Banco de dados"},{aluno:"Eduardo Castro",orientador:"Prof. Valéria",status:"Em andamento",data:"2025-07-02T00:00:00-03:00",horario:"09:45",banca:["Prof. Roberto","Prof. Carla"],local:"Sala 101",tema:"PWeb"},{aluno:"Sofia Martins",orientador:"Prof. João",status:"Concluído",data:"2025-01-30T00:00:00-03:00",horario:"16:00",banca:["Prof. Marina","Prof. Valéria"],local:"Auditório A",tema:"Machine Learning"},{aluno:"Daniel Santana",orientador:"Prof. Marina",status:"Em andamento",data:"2025-12-13T00:00:00-03:00",horario:"11:20",banca:["Prof. Luiz","Prof. Roberto"],local:"Laboratório 3",tema:"Redes"},{aluno:"Carolina Souza",orientador:"Prof. Carla",status:"Concluído",data:"2025-05-18T00:00:00-03:00",horario:"13:50",banca:["Prof. João","Prof. Francisco"],local:"Sala 202",tema:"IA aplicada"},{aluno:"Matheus Pereira",orientador:"Prof. Marina",status:"Em andamento",data:"2025-10-05T00:00:00-03:00",horario:"15:00",banca:["Prof. Valéria","Prof. Luiz"],local:"Laboratório 2",tema:"Sistemas Embarcados"},{aluno:"Fernanda Barros",orientador:"Prof. Roberto",status:"Concluído",data:"2025-04-27T00:00:00-03:00",horario:"09:10",banca:["Prof. Marina","Prof. João"],local:"Sala 105",tema:"Engenharia de Software"},{aluno:"Gabriel Monteiro",orientador:"Prof. Diego",status:"Em andamento",data:"2025-06-07T00:00:00-03:00",horario:"14:45",banca:["Prof. Luiz","Prof. Carla"],local:"Sala de Redes",tema:"Banco de dados"},{aluno:"Helena Duarte",orientador:"Prof. Valéria",status:"Concluído",data:"2025-03-02T00:00:00-03:00",horario:"08:50",banca:["Prof. Roberto","Prof. Francisco"],local:"Sala 101",tema:"PWeb"},{aluno:"Júlio Fernandes",orientador:"Prof. João",status:"Em andamento",data:"2025-07-29T00:00:00-03:00",horario:"10:00",banca:["Prof. Luiz","Prof. Marina"],local:"Auditório B",tema:"Computação Gráfica"},{aluno:"Nicole Paiva",orientador:"Prof. Carla",status:"Concluído",data:"2025-02-17T00:00:00-03:00",horario:"15:30",banca:["Prof. Roberto","Prof. João"],local:"Laboratório 4",tema:"IA aplicada"},{aluno:"Leonardo Aquino",orientador:"Prof. Diego",status:"Em andamento",data:"2025-10-21T00:00:00-03:00",horario:"09:30",banca:["Prof. Luiz","Prof. Francisco"],local:"Sala de Redes",tema:"Banco de dados"},{aluno:"Paula Nogueira",orientador:"Prof. Marina",status:"Concluído",data:"2025-06-14T00:00:00-03:00",horario:"16:40",banca:["Prof. Carla","Prof. João"],local:"Laboratório 1",tema:"Redes"},{aluno:"Oscar Lima",orientador:"Prof. Roberto",status:"Em andamento",data:"2025-08-03T00:00:00-03:00",horario:"11:55",banca:["Prof. Luiz","Prof. Marina"],local:"Sala 105",tema:"Engenharia de Software"},{aluno:"Patrícia Teixeira",orientador:"Prof. Valéria",status:"Concluído",data:"2025-01-09T00:00:00-03:00",horario:"10:20",banca:["Prof. Roberto","Prof. Francisco"],local:"Sala 101",tema:"PWeb"},{aluno:"Renato Oliveira",orientador:"Prof. João",status:"Em andamento",data:"2025-11-28T00:00:00-03:00",horario:"14:00",banca:["Prof. Marina","Prof. Carla"],local:"Auditório A",tema:"Machine Learning"},{aluno:"Tatiana Ribeiro",orientador:"Prof. Carla",status:"Concluído",data:"2025-04-03T00:00:00-03:00",horario:"13:00",banca:["Prof. Luiz","Prof. João"],local:"Laboratório 2",tema:"IA aplicada"},{aluno:"Walter Nunes",orientador:"Prof. Diego",status:"Em andamento",data:"2025-12-01T00:00:00-03:00",horario:"15:10",banca:["Prof. Francisco","Prof. Marina"],local:"Sala de Redes",tema:"Banco de dados"}];function T(i){const t=[];if(!i||!i.tipo)return t;if(i.tipo==="aluno"&&b.filter(e=>e.aluno===i.nome).forEach(e=>{e.status==="Em andamento"&&t.push({mensagem:`Sua defesa sobre "${e.tema}" está ${e.status.toLowerCase()} para ${e.data!=="0000-00-00"?new Date(e.data).toLocaleDateString("pt-BR"):"a definir"} às ${e.horario}.`,lida:!1,tipo:"info",data:new Date().toISOString()}),e.status==="Aguardando"&&t.push({mensagem:`Sua defesa sobre "${e.tema}" está aguardando aprovação do orientador.`,lida:!1,tipo:"alerta",data:new Date().toISOString()}),e.status==="Concluído"&&t.push({mensagem:`Sua defesa "${e.tema}" foi concluída.`,lida:!1,tipo:"sucesso",data:new Date().toISOString()})}),i.tipo==="orientador"&&b.filter(e=>e.orientador===i.nome).forEach(e=>{e.status==="Aguardando"&&t.push({mensagem:`O aluno ${e.aluno} solicitou defesa sobre "${e.tema}".`,lida:!1,tipo:"alerta",data:new Date().toISOString()}),e.status==="Em andamento"&&t.push({mensagem:`A defesa do aluno ${e.aluno} está em andamento.`,lida:!1,tipo:"info",data:new Date().toISOString()}),e.status==="Concluído"&&t.push({mensagem:`A defesa do aluno ${e.aluno} foi concluída.`,lida:!1,tipo:"sucesso",data:new Date().toISOString()})}),i.tipo==="coordenador"){const n=b.filter(o=>o.status==="Aguardando");n.length>0&&t.push({mensagem:`${n.length} defesas aguardando aprovação.`,lida:!1,tipo:"alerta",data:new Date().toISOString()}),b.forEach(o=>{o.data!=="0000-00-00"&&o.status!=="Concluído"&&t.push({mensagem:`Defesa marcada: aluno ${o.aluno}, tema "${o.tema}".`,lida:!1,tipo:"info",data:new Date().toISOString()})}),b.filter(o=>o.status==="Concluído").forEach(o=>{t.push({mensagem:`Defesa concluída: aluno ${o.aluno}, tema "${o.tema}".`,lida:!1,tipo:"sucesso",data:new Date().toISOString()})})}return t}function C(i,t,n="alerta"){const o=`notificacoes_${typeof i=="string"?i:i.nome}`,r=JSON.parse(localStorage.getItem(o))||[];r.push({mensagem:t,data:new Date().toISOString(),lida:!1,tipo:n}),localStorage.setItem(o,JSON.stringify(r)),window.dispatchEvent(new CustomEvent("notificacaoAdicionada",{detail:{chave:o}}))}function M(i){const t=new Date,n=new Date(i);if(isNaN(n))return"data inválida";const e=t-n,o=Math.floor(e/1e3),r=Math.floor(o/60);if(o<60)return"agora";if(r<60)return r===1?"há 1 minuto":`há ${r} minutos`;const f=new Date(t.getFullYear(),t.getMonth(),t.getDate()),c=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=Math.floor((f-c)/(1e3*60*60*24));if(s===0)return`hoje às ${n.toLocaleString("pt-br",{hour:"2-digit",minute:"2-digit"})}`;if(s===1)return`ontem às ${n.toLocaleString("pt-br",{hour:"2-digit",minute:"2-digit"})}`;if(s<7)return`há ${s} dias`;const d=Math.floor(s/7);if(s<30)return d===1?"há 1 semana":`há ${d} semanas`;const m=Math.floor(s/30);if(s<365)return m===1?"há 1 mês":`há ${m} meses`;const P=Math.floor(s/365);return P===1?"há 1 ano":`há ${P} anos`}function w(){const i=document.getElementById("btn-notificacao"),t=document.getElementById("menu-notificacao"),n=document.getElementById("lista-notificacao"),e=document.getElementById("contador"),o=JSON.parse(localStorage.getItem("usuarioLogado"));if(!o)return;let r=`notificacoes_${o.nome}`;const f=T(o);let c=JSON.parse(localStorage.getItem(r))||[];c=c.filter(a=>a&&a.mensagem);const s=new Map;c.forEach(a=>s.set(a.mensagem,a)),f.forEach(a=>{s.has(a.mensagem)||(c.push(a),s.set(a.mensagem,a))}),c.sort((a,l)=>{const p=new Date(a.data),g=new Date(l.data);return isNaN(p)?1:isNaN(g)?-1:g-p}),localStorage.setItem(r,JSON.stringify(c));let d=c;function m(){n.innerHTML="",d.forEach((a,l)=>{const p=M(a.data);let g="bi-info-circle";a.tipo==="alerta"?g="bi-exclamation-triangle":a.tipo==="sucesso"&&(g="bi-check-circle");let h="";a.mensagem.includes("solicitou defesa")?h='<button class="btn-acao-notif" data-acao="ver-defesa" data-indice="'+l+'">Ver defesa</button>':a.mensagem.includes("foi aceita")||a.mensagem.includes("foi recusada")?h='<button class="btn-acao-notif" data-acao="ver-status" data-indice="'+l+'">Ver status</button>':a.mensagem.includes("está em andamento")?h='<button class="btn-acao-notif" data-acao="ver-detalhes" data-indice="'+l+'">Ver detalhes</button>':(a.mensagem.includes("foi concluída")||a.mensagem.includes("foi concluído"))&&(h='<button class="btn-acao-notif" data-acao="ver-resultado" data-indice="'+l+'">Ver resultado</button>');const u=document.createElement("li");u.innerHTML=`
                <div class="notificacao-item-content">
                    <div class="notificacao-header">
                        <i class="bi ${g} notificacao-icone"></i>
                        <div class="notificacao-mensagem">${a.mensagem}</div>
                    </div>
                    <div class="notificacao-footer">
                        <span class="notificacao-data" title="${new Date(a.data).toLocaleString("pt-br")}">${p}</span>
                        ${h}
                    </div>
                </div>
            `,u.classList.add("notificacao-item"),a.tipo==="alerta"?u.classList.add("tipo-alerta"):a.tipo==="sucesso"?u.classList.add("tipo-sucesso"):a.tipo==="info"&&u.classList.add("tipo-info"),a.lida&&u.classList.add("lida"),u.addEventListener("click",E=>{E.target.tagName!=="BUTTON"&&(d[l].lida=!0,localStorage.setItem(r,JSON.stringify(d)),m())});const L=u.querySelector(".btn-acao-notif");L&&L.addEventListener("click",E=>{E.stopPropagation();const S=L.dataset.acao;d[l].lida=!0,localStorage.setItem(r,JSON.stringify(d)),(S==="ver-defesa"||S==="ver-detalhes"||S==="ver-resultado"||S==="ver-status")&&(window.location.href="defesas.html")}),n.appendChild(u)}),P()}function P(){const a=d.filter(l=>!l.lida).length;e.textContent=a,e.style.display=a>0?"block":"none"}i&&t&&(i.addEventListener("click",a=>{a.stopPropagation(),t.classList.toggle("aberta")}),document.addEventListener("click",a=>{!t.contains(a.target)&&!i.contains(a.target)&&t.classList.remove("aberta")}),t.addEventListener("click",a=>a.stopPropagation())),window.addEventListener("storage",a=>{a.key===r&&(d=JSON.parse(a.newValue)||[],m())}),window.addEventListener("notificacaoAdicionada",a=>{a.detail.chave===r&&(d=JSON.parse(localStorage.getItem(r))||[],m())}),m()}function I(){const i=v(),t=D();document.body.prepend(i),document.body.append(t);const n=document.getElementById("btn-menu"),e=document.getElementById("menu-lateral"),o=document.getElementById("btn-fechar");n&&e&&o&&(n.addEventListener("click",()=>{e.style.width="250px"}),o.addEventListener("click",()=>{e.style.width="0"})),w();const r=document.getElementById("btn-logout");r&&r.addEventListener("click",f=>{f.preventDefault();const c=JSON.parse(localStorage.getItem("usuarioLogado"));c&&localStorage.removeItem(`notificacoes_${c.nome}`),localStorage.removeItem("usuarioLogado"),localStorage.removeItem("tipoUsuario"),sessionStorage.clear(),window.location.href="./login.html"})}export{b as d,C as e,I as m};
